@model IEnumerable<Comment>
@using Microsoft.AspNetCore.Identity
@using  CallogApp.Utility
@inject SignInManager<IdentityUser> SignInManager
@inject UserManager<IdentityUser> UserManager


@{
    ViewData["Title"] = "GetAllCommentsByRequest";
    Layout = "~/Views/Shared/_AdminLayout.cshtml";
}

<h2>All Comments for ticket id @Context.Request.RouteValues["id"] </h2>

@if (!User.IsInRole("Super Admin") && !User.IsInRole("Admin"))
{

    <p>
        <a asp-action="Create" asp-route-id="@Context.Request.RouteValues["id"]" class="btn btn-success">
            <i class="fa fa-plus-circle">Create New</i>
        </a>
    </p>
}

@if (Model.Any())
{

    @foreach (var comment in Model)
    {
        <div class="card" style="width: 30rem;">
            <div class="card-body">
                <p class="card-text">@Html.Raw(comment.Content).</p>
                <h6>@comment.CreatedDate</h6>
            </div>
        </div>

    }

}
else
{
    <div class="card-header">
        No comments yet

    </div>
}


